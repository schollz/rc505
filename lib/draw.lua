Draw = {}

local drawings = {
beat_repeat = {{-3,41,15},{-3,42,15},{-3,43,15},{-3,44,15},{-3,45,15},{-3,46,15},{-3,47,15},{-2,41,15},{-2,47,15},{-1,41,15},{-1,42,15},{-1,43,15},{-1,44,15},{-1,45,15},{-1,46,15},{-1,47,15},{0,41,15},{0,47,15},{1,41,15},{1,42,15},{1,43,15},{1,44,15},{1,45,15},{1,46,15},{1,47,15},{2,41,15},{2,47,15},{3,41,15},{3,42,15},{3,43,15},{3,44,15},{3,45,15},{3,46,15},{3,47,15}},
beat_shuffle = {{-3,1,15},{-3,2,15},{-3,3,15},{-3,4,15},{-3,5,15},{-3,6,15},{-3,7,15},{-2,1,15},{-2,2,15},{-2,7,15},{-1,1,15},{-1,2,15},{-1,3,15},{-1,4,15},{-1,5,15},{-1,6,15},{-1,7,15},{0,1,15},{0,6,15},{0,7,15},{1,1,15},{1,2,15},{1,3,15},{1,4,15},{1,5,15},{1,6,15},{1,7,15},{2,1,15},{2,2,15},{2,3,15},{2,7,15},{3,1,15},{3,2,15},{3,3,15},{3,4,15},{3,5,15},{3,6,15},{3,7,15}},
playing = {{-2,0,15},{-2,1,15},{-2,2,15},{-2,3,15},{-2,4,15},{-2,5,15},{-2,6,15},{-1,1,15},{-1,2,15},{-1,3,15},{-1,4,15},{-1,5,15},{0,1,15},{0,2,15},{0,3,15},{0,4,15},{0,5,15},{1,2,15},{1,3,15},{1,4,15},{2,2,15},{2,3,15},{2,4,15},{3,3,15}},
recording = {{-3,-37,15},{-3,-36,15},{-2,-38,15},{-2,-37,15},{-2,-36,15},{-2,-35,15},{-1,-39,15},{-1,-38,15},{-1,-37,15},{-1,-36,15},{-1,-35,15},{-1,-34,15},{0,-39,15},{0,-38,15},{0,-37,15},{0,-36,15},{0,-35,15},{0,-34,15},{1,-39,15},{1,-38,15},{1,-37,15},{1,-36,15},{1,-35,15},{1,-34,15},{2,-38,15},{2,-37,15},{2,-36,15},{2,-35,15},{3,-37,15},{3,-36,15}},
selected = {{-14,-10,15},{-14,-9,15},{-14,-8,15},{-14,-7,11},{-14,13,11},{-14,14,15},{-14,15,15},{-14,16,15},{-13,-10,15},{-13,16,15},{-12,-10,15},{-12,16,15},{-11,-10,11},{-11,16,11},{10,-10,11},{10,16,11},{11,-10,15},{11,16,15},{12,-10,15},{12,16,15},{13,-10,15},{13,-9,15},{13,-8,15},{13,-7,11},{13,13,11},{13,14,15},{13,15,15},{13,16,15}},
}

function Draw:drawing(name,x,y)
	for _,p in ipairs(drawings[name]) do
		screen.level(p[3]) 
		screen.pixel(p[1]+x,p[2]+y)
		screen.stroke()
	end
end

function Draw.track(track)
	-- i, selected
	Draw.circle_with_arc(23+40*(track.i-1),26,10,0.25)
	if track.selected then 
		Draw.drawing("selected",23+40*(track.i-1),26)
	end
	
	if track.recording then 
		Draw.drawing("recording",12+40*(track.i-1),56)
	elseif track.playing then 
		Draw.drawing("playing",23+40*(track.i-1),26)
	end
	if track.beat_repeat then 
		Draw.drawing("beat_repeat",12+40*(track.i-1),56)
	end
	if track.beat_shuffle then 
		Draw.drawing("beat_shuffle",12+40*(track.i-1),56)
	end
end


function Draw.circle_with_arc(x,y,r,fraction)
	for angle=1,360,5 do 
		if angle < fraction*360 then 
			screen.level(15)
		else
			screen.level(1)
		end
		for j=-1,1 do 
	        screen.pixel(x+(r-j)*math.sin(math.rad(angle)),y+(r-j)*math.cos(math.rad(angle)))
	        screen.stroke()
       	end
    end
end


return Draw